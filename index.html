<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>JobHub</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        background: #f9fafb;
      }
      header {
        background: #2563eb;
        padding: 15px 30px;
        color: #fff;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      header h1 {
        margin: 0;
        font-size: 22px;
      }
      header nav a {
        color: #fff;
        margin: 0 10px;
        text-decoration: none;
        font-size: 14px;
      }
      header .actions button {
        margin-left: 10px;
        padding: 6px 12px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
      }
      header .actions .signin {
        background: #fff;
        color: #2563eb;
      }
      header .actions .postjob {
        background: #1e40af;
        color: #fff;
      }
      .container {
        display: flex;
        padding: 20px;
      }
      aside {
        width: 220px;
        background: #fff;
        padding: 15px;
        border-radius: 8px;
        margin-right: 20px;
        box-shadow: 0 0 4px rgba(0, 0, 0, 0.1);
      }
      aside h3 {
        font-size: 14px;
        margin: 15px 0 8px;
      }
      aside label {
        display: block;
        font-size: 13px;
        margin-bottom: 6px;
      }
      main {
        flex: 1;
        display: flex;
        gap: 20px;
      }
      .jobs {
        flex: 2;
      }
      .job-card {
        background: #fff;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 0 4px rgba(0, 0, 0, 0.1);
      }
      .job-card h4 {
        margin: 0;
        font-size: 16px;
        color: #111;
      }
      .job-card p {
        margin: 4px 0;
        font-size: 13px;
        color: #555;
      }
      .tags span {
        background: #e0e7ff;
        color: #1e3a8a;
        font-size: 11px;
        padding: 2px 6px;
        border-radius: 6px;
        margin-right: 5px;
      }
      .apply-btn {
        margin-top: 8px;
        background: #2563eb;
        color: #fff;
        border: none;
        border-radius: 6px;
        padding: 6px 10px;
        cursor: pointer;
      }
      .details {
        flex: 1;
        background: #fff;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 0 4px rgba(0, 0, 0, 0.1);
      }
      .details h3 {
        margin: 0 0 10px;
        font-size: 16px;
      }
      .details .salary {
        background: #dbeafe;
        padding: 10px;
        font-weight: bold;
        color: #1e40af;
        border-radius: 6px;
        margin-bottom: 10px;
      }
      .details ul {
        margin: 0;
        padding-left: 18px;
        font-size: 13px;
      }
      #postForm {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
        z-index: 100;
        width: 320px;
      }
      #postForm h3 {
        margin-top: 0;
      }
      #postForm input,
      #postForm select,
      #postForm textarea {
        width: 100%;
        margin-bottom: 10px;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 6px;
      }
      #postForm button {
        padding: 6px 12px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>JobHub</h1>
      <nav>
        <a href="#">Jobs</a>
        <a href="#">Companies</a>
        <a href="#">Salary</a>
        <a href="#">Resources</a>
      </nav>
      <div class="actions">
        <button class="signin">Sign In</button>
        <button class="postjob" onclick="openPostForm()">Post a Job</button>
      </div>
    </header>

    <div class="container">
      <aside>
        <h3>Job Type</h3>
        <label
          ><input type="checkbox" value="Full Time" onchange="filterJobs()" />
          Full Time</label
        >
        <label
          ><input type="checkbox" value="Part Time" onchange="filterJobs()" />
          Part Time</label
        >
        <label
          ><input type="checkbox" value="Contract" onchange="filterJobs()" />
          Contract</label
        >
        <label
          ><input type="checkbox" value="Remote" onchange="filterJobs()" />
          Remote</label
        >

        <h3>Location</h3>
        <label
          ><input
            type="checkbox"
            value="San Francisco"
            onchange="filterJobs()"
          />
          San Francisco</label
        >
        <label
          ><input type="checkbox" value="New York" onchange="filterJobs()" />
          New York</label
        >
        <label
          ><input type="checkbox" value="London" onchange="filterJobs()" />
          London</label
        >
        <label
          ><input type="checkbox" value="Berlin" onchange="filterJobs()" />
          Berlin</label
        >

        <h3>Experience Level</h3>
        <label
          ><input type="checkbox" value="Entry" onchange="filterJobs()" /> Entry
          Level</label
        >
        <label
          ><input type="checkbox" value="Mid" onchange="filterJobs()" /> Mid
          Level</label
        >
        <label
          ><input type="checkbox" value="Senior" onchange="filterJobs()" />
          Senior Level</label
        >
      </aside>

      <main>
        <div class="jobs" id="jobList"></div>
        <div class="details" id="jobDetails">
          <h3>Select a job to see details</h3>
        </div>
      </main>
    </div>

    <!-- Post Job Modal -->
    <div id="postForm">
      <h3>Post a Job</h3>
      <input type="text" id="title" placeholder="Job Title" required />
      <input type="text" id="company" placeholder="Company Name" required />
      <select id="location">
        <option>San Francisco</option>
        <option>New York</option>
        <option>London</option>
        <option>Berlin</option>
      </select>
      <select id="type">
        <option>Full Time</option>
        <option>Part Time</option>
        <option>Contract</option>
        <option>Remote</option>
      </select>
      <select id="level">
        <option>Entry</option>
        <option>Mid</option>
        <option>Senior</option>
      </select>
      <input type="text" id="salary" placeholder="e.g. $80k - $120k" />
      <textarea id="desc" placeholder="Job Description"></textarea>
      <button onclick="addJob()">Post</button>
      <button onclick="closePostForm()">Cancel</button>
    </div>

    <script>
      const jobTypes = ["Full Time", "Part Time", "Contract", "Remote"];
      const locations = ["San Francisco", "New York", "London", "Berlin"];
      const levels = ["Entry", "Mid", "Senior"];

      let jobs = [];
      let filtered = [];

      async function loadJobs() {
        const res = await fetch("https://jsonfakery.com/jobs");
        const data = await res.json();

        // Normalize with random values
        jobs = data.slice(0, 20).map((j) => ({
          title: j.title,
          company: j.company,
          description: j.description,
          salary: j.salary || "$80k - $120k",
          type: jobTypes[Math.floor(Math.random() * jobTypes.length)],
          location: locations[Math.floor(Math.random() * locations.length)],
          level: levels[Math.floor(Math.random() * levels.length)],
          tags: j.tags || ["General"],
        }));

        filtered = jobs;
        renderJobs();
      }

      function renderJobs() {
        const list = document.getElementById("jobList");
        list.innerHTML = "";
        if (filtered.length === 0) {
          list.innerHTML = "<p>No jobs found.</p>";
          return;
        }
        filtered.forEach((job, i) => {
          const div = document.createElement("div");
          div.className = "job-card";
          div.innerHTML = `
        <h4>${job.title}</h4>
        <p><b>${job.company}</b></p>
        <p>${job.location} | ${job.type} | ${job.level}</p>
        <p>Salary: ${job.salary}</p>
        <div class="tags">${job.tags
          .map((t) => `<span>${t}</span>`)
          .join("")}</div>
        <button class="apply-btn" onclick="showDetails(${i})">View Details</button>
      `;
          list.appendChild(div);
        });
      }

      function showDetails(i) {
        const job = filtered[i];
        const d = document.getElementById("jobDetails");
        d.innerHTML = `
      <h3>${job.title}</h3>
      <div class="salary">${job.salary}</div>
      <p><b>Company:</b> ${job.company}</p>
      <p><b>Location:</b> ${job.location}</p>
      <p><b>Type:</b> ${job.type}</p>
      <p><b>Level:</b> ${job.level}</p>
      <h4>Job Description</h4>
      <p>${job.description || "No description available."}</p>
      <button class="apply-btn">Apply Now</button>
    `;
      }

      function filterJobs() {
        const selectedTypes = [
          ...document.querySelectorAll(
            'aside input[type=checkbox][value][onchange="filterJobs()"]:checked'
          ),
        ]
          .filter((cb) => jobTypes.includes(cb.value))
          .map((cb) => cb.value);

        const selectedLocations = [
          ...document.querySelectorAll(
            'aside input[type=checkbox][value][onchange="filterJobs()"]:checked'
          ),
        ]
          .filter((cb) => locations.includes(cb.value))
          .map((cb) => cb.value);

        const selectedLevels = [
          ...document.querySelectorAll(
            'aside input[type=checkbox][value][onchange="filterJobs()"]:checked'
          ),
        ]
          .filter((cb) => levels.includes(cb.value))
          .map((cb) => cb.value);

        filtered = jobs.filter(
          (j) =>
            (selectedTypes.length === 0 || selectedTypes.includes(j.type)) &&
            (selectedLocations.length === 0 ||
              selectedLocations.includes(j.location)) &&
            (selectedLevels.length === 0 || selectedLevels.includes(j.level))
        );
        renderJobs();
      }

      function openPostForm() {
        document.getElementById("postForm").style.display = "block";
      }
      function closePostForm() {
        document.getElementById("postForm").style.display = "none";
      }

      function addJob() {
        const job = {
          title: document.getElementById("title").value,
          company: document.getElementById("company").value,
          location: document.getElementById("location").value,
          type: document.getElementById("type").value,
          level: document.getElementById("level").value,
          salary: document.getElementById("salary").value,
          description: document.getElementById("desc").value,
          tags: ["New"],
        };
        jobs.unshift(job);
        filtered = jobs;
        renderJobs();
        closePostForm();
      }

      loadJobs();
    </script>
  </body>
</html>
